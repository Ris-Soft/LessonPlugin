<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self' data:; connect-src 'self'; frame-src 'self'">
  <title>倒计时背景</title>
  <style>
    html, body { height: 100%; margin: 0; background: #000; color: #e6e6e6; font-family: system-ui, Segoe UI, PingFang SC, Microsoft YaHei, sans-serif; }
    .wrap { height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .time { font-size: 108px; font-weight: 700; letter-spacing: 4px; text-shadow: 0 2px 10px rgba(0,0,0,0.35); }
    .hint { margin-top: 10px; font-size: 12px; color: #bbb; opacity: 0.8; }
    .paused { color: #e0a020; }
  </style>
  <script>
    function qs(name){ const m = location.search.match(new RegExp('[?&]'+name+'=([^&]+)')); return m? decodeURIComponent(m[1]) : null; }
    // 倒计时：支持三种参数
    // 1) ?until=timestamp(ms) 以绝对时间计算剩余
    // 2) ?paused=1&remain=seconds 暂停显示剩余秒数
    // 3) ?mins=10 默认分钟数
    const until = parseInt(qs('until')||'',10);
    const paused = qs('paused') === '1';
    const remainParam = parseInt(qs('remain')||'',10);
    const minsParam = parseInt(qs('mins')||'10',10);
    let remain = 0;
    function pad(n){ return String(n).padStart(2,'0'); }
    function calcRemain(){
      if (paused && Number.isFinite(remainParam)) return Math.max(0, remainParam);
      if (Number.isFinite(until)) return Math.max(0, Math.ceil((until - Date.now())/1000));
      const mins = Number.isFinite(minsParam) ? minsParam : 10;
      return Math.max(0, mins*60);
    }
    function render(){
      remain = calcRemain();
      const m = Math.floor(remain/60); const s = remain%60;
      const el = document.getElementById('time');
      el.textContent = `${pad(m)}:${pad(s)}`;
      el.className = 'time' + (paused ? ' paused' : '');
    }
    function tick(){ if (!paused) render(); }
    window.addEventListener('DOMContentLoaded', () => { render(); if (!paused) setInterval(() => { render(); }, 1000); });
  </script>
</head>
<body>
  <div class="wrap"><div id="time" class="time">10:00</div><div class="hint">可通过左侧按钮快速设置 5/10/15 分钟</div></div>
</body>
</html>