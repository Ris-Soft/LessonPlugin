<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>通知设置</title>
    <link rel="stylesheet" href="../../renderer/titlebar.css" />
    <link rel="stylesheet" href="../../renderer/settings.css" />
    <link rel="stylesheet" href="../../renderer/remixicon-local.css" />
    <style>
      .form { display: flex; flex-direction: column; gap: 12px; }
      .inline { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
      /* 选择控件采用主程序设置页样式（由 settings.css 提供） */
      .setting-action select, .setting-action input[type="text"], .setting-action input[type="range"] { min-width: 220px; }
    </style>
  </head>
  <body>
    <div class="titlebar">
      <div class="drag">通知设置</div>
      <div class="window-actions">
        <button class="win-btn" data-act="minimize" title="最小化"><i class="ri-subtract-line"></i></button>
        <button class="win-btn max" data-act="maximize" title="最大化"><i class="ri-checkbox-blank-line"></i></button>
        <button class="win-btn close" data-act="close" title="关闭"><i class="ri-close-line"></i></button>
      </div>
    </div>
    <div class="wrap">
      <div class="section">
        <div class="section-title"><i class="ri-notification-3-line"></i> 通知设置</div>
        <div class="muted">配置播报与类型音频；通知展示在“通知运行窗口”。</div>

          <div class="form">
            <div class="setting-item">
              <div class="setting-icon"><i class="ri-speaker-line"></i></div>
              <div class="setting-main">
                <div class="setting-title">启用播报（TTS）</div>
                <div class="setting-desc">开启后按通知内容进行语音播报。</div>
              </div>
              <div class="setting-action">
                <label class="switch"><input id="enableTTS" type="checkbox" /><span class="slider"></span></label>
              </div>
            </div>

            <div class="setting-item">
              <div class="setting-icon"><i class="ri-cpu-line"></i></div>
              <div class="setting-main">
                <div class="setting-title">播报引擎</div>
                <div class="setting-desc">当前仅支持系统语音（暂时隐藏 EdgeTTS）。</div>
              </div>
              <div class="setting-action">
                <select id="ttsEngine">
                  <option value="system">系统语音（Web Speech）</option>
                </select>
              </div>
            </div>

            <div class="setting-item">
              <div class="setting-icon"><i class="ri-mic-2-line"></i></div>
              <div class="setting-main">
                <div class="setting-title">音色（系统语音）</div>
                <div class="setting-desc">选择用于播报的系统语音。</div>
              </div>
              <div class="setting-action">
                <select id="ttsVoice"></select>
              </div>
            </div>

            <!-- 暂时隐藏 EdgeTTS 相关设置 -->

            <!-- 暂时隐藏 EdgeTTS 相关设置 -->

            <div class="setting-item">
              <div class="setting-icon"><i class="ri-sound-module-line"></i></div>
              <div class="setting-main">
                <div class="setting-title">音高</div>
                <div class="setting-desc">调节播报音色的音高（0.5–2.0，默认1.0）。</div>
              </div>
              <div class="setting-action">
                <input id="ttsPitch" type="range" min="0.5" max="2" step="0.1" />
              </div>
            </div>

            <div class="setting-item">
              <div class="setting-icon"><i class="ri-speed-up-line"></i></div>
              <div class="setting-main">
                <div class="setting-title">语速</div>
                <div class="setting-desc">调节播报语速（0.5–2.0，默认1.0）。</div>
              </div>
              <div class="setting-action">
                <input id="ttsRate" type="range" min="0.5" max="2" step="0.1" />
              </div>
            </div>

            <div class="setting-item">
              <div class="setting-icon"><i class="ri-volume-up-line"></i></div>
              <div class="setting-main">
                <div class="setting-title">通知音效</div>
                <div class="setting-desc">统一使用 <code>sounds/in.mp3</code> 与 <code>sounds/out.mp3</code>。可在此处试听。</div>
              </div>
              <div class="setting-action">
                <div class="inline">
                  <button class="btn secondary" id="btnPlayIn"><i class="ri-play-line"></i> 试听入场</button>
                  <button class="btn secondary" id="btnPlayOut"><i class="ri-play-line"></i> 试听退场</button>
                </div>
              </div>
            </div>

            <div class="setting-item">
              <div class="setting-icon"><i class="ri-font-size"></i></div>
              <div class="setting-main">
                <div class="setting-title">测试纯文本提示（全屏）</div>
                <div class="setting-desc">无卡片、较大字体、带载入/载出动画。</div>
              </div>
              <div class="setting-action">
                <div class="inline">
                  <button class="btn" id="btnTestOverlayText"><i class="ri-layout-top-2-line"></i> 测试</button>
                </div>
              </div>
            </div>
          </div>
      </div>

      <div class="section">
        <div class="section-title"><i class="ri-window-line"></i> 运行窗口</div>
        <div class="muted">通知展示窗口：<code>runtime.html</code>，由其它插件调用。</div>
      </div>
    </div>

    <script src="settings.js"></script>
  </body>
  </html>